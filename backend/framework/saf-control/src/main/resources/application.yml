server:
  port: 8080

spring:
  threads.virtual.enabled: true # virtual threads (Java 21+)
  mvc.async.request-timeout: 30s

  # Kafka (valeurs par défaut, surchargées par profils/env)
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP:localhost:9092}
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer

management:
  endpoints:
    web.exposure.include: health,info,metrics,prometheus
  endpoint:
    health.probes.enabled: true

springdoc:
  swagger-ui.path: /swagger # UI: http://localhost:8080/swagger
  api-docs.path: /v3/api-docs

agent:
  heartbeat:
    timeout: 60s
    check-interval: 30s

# Runtime configuration
runtime:
  default:
    url: ${RUNTIME_DEFAULT_URL:http://iot-runtime:8081}

# CORS configuration
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:80}

saf:
  security:
    api-key: ${SAF_SECURITY_API_KEY:mock-secret}
  # Default cities initialization
  init:
    enabled: ${SAF_INIT_ENABLED:true}
    delay-seconds: ${SAF_INIT_DELAY:5}
